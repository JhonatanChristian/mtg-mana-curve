$(document).ready(function(){$(".carousel").carousel();$(".button-collapse").sideNav();$(document).on("change",".count-trigger",function(){var n=$(this).data("lvl");var p=$("#line-"+n+' .col input[data-field="1"]').val();var o=$("#line-"+n+' .col input[data-field="2"]').val();var m=p*o;$("#line-"+n+' .col input[data-field="3"]').val(m);$("#display-total-cards").html(b());f();d()});var b=function(){var m=0;$('.count-trigger[data-field="2"]').each(function(){if($(this).val()==""){m+=0}else{m+=parseInt($(this).val())}});return m};var l=function(){var n=0;$('.count-trigger[data-field="2"]').each(function(){n+=parseInt($(this).val())});var m=0;$('.count-trigger[data-field="3"]').each(function(){m+=parseInt($(this).val())});var o=m/n;return o.toFixed(1)};var f=function(){if(!isNaN(l())){$(".display-result").html(l())}else{$(".display-result").html(0)}};$(".create-new-line").click(function(){var m=$(".values-line").length+1;var n='<div class="row line values-line" id="line-'+m+'">';n+='<div class="col s4">';n+='<input type="number" name="" value="" class="count-trigger" data-lvl="'+m+'" data-field="1">';n+="</div>";n+='<div class="col s4">';n+='<input type="number" name="" value="" class="count-trigger" data-lvl="'+m+'" data-field="2">';n+="</div>";n+='<div class="col s4">';n+='<input type="number" name="" value="" class="count-trigger" data-lvl="'+m+'" data-field="3">';n+="</div>";n+="</div>";$(".calculator-body").append(n);f();d()});$(".delete-last-line").click(function(){var m=$(".values-line").length;if(m!=1){$("#line-"+m+"").remove()}$("#display-total-cards").html(b());f();d()});$(document).on("change",".distribution-trigger",function(){var n={w:0,u:0,b:0,r:0,g:0};var m="";$(".color-distribution-calculator .distribution-trigger").each(function(){m=$(this).data("color");if($(this).val()!=""){n[m]=parseInt($(this).val())}else{n[m]=0}});var p=c(n);var o={w:0,u:0,b:0,r:0,g:0};var r=$("#total_lands").val();var q={w:0,u:0,b:0,r:0,g:0};if(r==""){r=0}else{r=parseInt(r)}$.each(n,function(s,t){if(p==0){return false}o[s]=(t/p)*100;if(o[s]!=0){q[s]=(o[s]*r)/100}else{q[s]=0}$(".distribution-percentage").find('[data-color="'+s+'"]').html(o[s].toFixed(1));$(".distribution-percentage").find('[data-lands="'+s+'"]').html(Math.round(q[s]))});e.datasets[0].data=[n.w,n.u,n.b,n.r,n.g];j.destroy();j=new Chart(k,{type:"pie",data:e,options:a})});var c=function(n){var m=0;$.each(n,function(o,p){m+=p});return m};if($("#mana-curve-chart").length){Chart.defaults.global.maintainAspectRatio=false;var k=document.getElementById("mana-curve-chart").getContext("2d");var h={labels:["Waiting..."],datasets:[{label:"# of Cards",data:[0],backgroundColor:["rgba(54, 162, 235, 0.2)"],borderColor:["rgba(54, 162, 235, 1)"],borderWidth:1}]};var i={scales:{yAxes:[{ticks:{beginAtZero:true}}]}};var g=new Chart(k,{type:"bar",data:h,options:i})}var d=function(){var o=[];var n=[];var m=[];var q=[];var p=0;$(".values-line").each(function(){n[p]="Cost "+$(this).find('[data-field="1"]').val();o[p]=$(this).find('[data-field="2"]').val();m[p]="rgba(54, 162, 235, 0.2)";q[p]="rgba(54, 162, 235, 1)";p++});h.labels=n;h.datasets[0].data=o;h.datasets[0].backgroundColor=m;h.datasets[0].borderColor=q;g.destroy();g=new Chart(k,{type:"bar",data:h,options:i})};if($("#color-distribution-chart").length){Chart.defaults.global.maintainAspectRatio=false;var k=document.getElementById("color-distribution-chart").getContext("2d");var e={labels:["White","Blue","Black","Red","Green"],datasets:[{label:"# of Color",data:[10,10,10,10,10],backgroundColor:["rgba(249, 253, 192, 0.6)","rgba(181, 205, 227, 0.6)","rgba(172, 162, 154, 0.6)","rgba(219, 134, 100, 0.6)","rgba(147, 180, 131, 0.6)"],borderColor:["rgba(240, 242, 192, 1)","rgba(181, 205, 227, 1)","rgba(172, 162, 154, 1)","rgba(219, 134, 100, 1)","rgba(147, 180, 131, 1)"],borderWidth:1}]};var a={responsive:true,scales:{yAxes:[{ticks:{beginAtZero:true}}],xAxes:[]}};var j=new Chart(k,{type:"pie",data:e,options:a})}$(".change-language").click(function(){var m=$(this).data("lang");if(m!=""){Cookies.remove("lang");Cookies.set("lang",m)}window.location.reload()})});